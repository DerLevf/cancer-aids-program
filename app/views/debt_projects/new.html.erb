<h2>Neue Schuldengruppe erstellen</h2>

<%= form_for @debt_project do |f| %>
  <div>
    <%# HINZUF√úGEN von required: true %>
    <%= f.label :name, "Name der Gruppe:" %>
    <%= f.text_field :name, required: true %>
  </div>

  <div>
    <%# HINZUF√úGEN von required: true %>
    <%= f.label :total_amount, "Gesamtbetrag:" %>
    <%= f.number_field :total_amount, step: 0.01, required: true %>
  </div>

  <div>
    <%# HINZUF√úGEN von required: true %>
    <%= f.label :deadline, "Frist:" %>
    <%= f.date_field :deadline, required: true %>
  </div>

  <h3>Mitglieder hinzuf√ºgen</h3>

  <div>
    <%= check_box_tag "debt_project[user_ids][]", current_user.id, true, disabled: true %>
    <%= current_user.username %> (Debtcollector)
  </div>

  <%# üö® Hinweis: Die Validierung von Checkboxen/Mitgliedern muss im Controller/Modell erfolgen %>
  <%= hidden_field_tag "debt_project[schuldner_ids][]" %>

  <% @other_users.each do |user| %>
    <% membership = @debt_project.schuldner.find_by(user_id: user.id) %>
    <div>
      <%= check_box_tag "debt_project[schuldner_ids][]", user.id, membership.present?, id: "debt_project_user_ids_#{user.id}" %>
      <%= label_tag "debt_project_user_ids_#{user.id}", "#{user.username} (Schuldner)" %>
    </div>
  <% end %>


  <%= f.submit "Gruppe erstellen", class: "bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mt-2" %>
<% end %>